{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
<div class="dropdown dropdown-language {% if id == 'mobile' %}dropup{% endif %}">
    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton_{{ id }}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {% for language in LANGUAGES %}
            {% if LANGUAGE_CODE == language.0 %}
                <img src="/static/img/{{ language.0 }}.png"
                     srcset="/static/img/{{ language.0 }}@2x.png 2x, /static/img/{{ language.0 }}@3x.png 3x"
                     alt=""
                />
            {% endif %}
        {% endfor %}
    </button>
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton_{{ id }}">
        {% for language in LANGUAGES %}
            {% if LANGUAGE_CODE == language.0 %}
                <a class="dropdown-item active" data-value="{{ language.0 }}" href="#">
                    <img src="/static/img/{{ language.0 }}.png"
                         srcset="/static/img/{{ language.0 }}@2x.png 2x, /static/img/{{ language.0 }}@3x.png 3x"
                         alt=""
                    /> {{ language.1 }}
                </a>
            {% endif %}
        {% endfor %}
        {% for language in LANGUAGES %}
            {% if LANGUAGE_CODE != language.0 %}
                <a class="dropdown-item" data-value="{{ language.0 }}" href="#">
                    <img src="/static/img/{{ language.0 }}.png"
                         srcset="/static/img/{{ language.0 }}@2x.png 2x, /static/img/{{ language.0 }}@3x.png 3x"
                         alt=""
                    /> {{ language.1 }}
                </a>
            {% endif %}
        {% endfor %}
    </div>
</div>
